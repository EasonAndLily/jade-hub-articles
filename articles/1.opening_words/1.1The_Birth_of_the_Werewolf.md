# 人狼的诞生

![werewolves](https://s1.locimg.com/2023/10/27/90cc9aee6c254.jpeg)

关于狼人的描述，最早出现在布鲁克斯的经典著作《人月神话》：

> ***“在所有恐怖民间传说的妖怪中，最可怕的是人狼，因为他们可以完全出乎意料的从熟悉的面孔变成可怕的怪物。大家熟悉的软件项目具有一些人狼的特性，常常看似简单明了的东西，却有可能变成一个落后进度、超出预期、存在大量缺陷的怪物。”***

目前，距离布鲁克斯发表《人月神话》已经过去了30年了，这三十年间，技术发生了翻天覆地的变化，硬件遵循着“摩尔定律”持续不断的升级迭代，计算机高级语言也是层出不穷，人工智能也取得了突破性的进展，但是我们依然看到了人狼存在的影子，纠缠不清的业务逻辑，大量反复出现的Bug，无法合理准确的工作评估，软件用户的大量不满。。。等等诸多现象，使得大量的软件项目以失败告终！

## 软件开发的根本困难

软件开发过程中最困难的部分是什么？

是编码实现？还是架构设计？其实都不是，软件开发中最困难的部分是对概念模型的抽象！

### 来自现实世界的抽象

现实世界是形形色色，丰富多彩的，人类发明了软件用来虚拟化现实世界，目的是节约实物资源，提高信息转移效率，然而，软件本质上是由电信号实现的，现实世界与电信号之间存在着天然的鸿沟，为了更好的表达现实世界的需求关系，抽象的概念模型就是必然选择。 

更近一步来讲，软件是对人类固有需求的抽象实现，是对对现实世界中存在的需求的抽象表达，任何一款成功的软件产品无一例外的都是人类固有的需求。所以，软件产品从来没有创造需求，更不可能去衍生需求，更多的是解决需求！

### 有限认知制约着抽象设计

然而，人类对自身的需求理解大多时候并不准确。这其中最主要的原因是人类的大脑对信息的接纳和处理是有限的，当有大量复杂的需求互相纠缠在一起的时候，大脑是很难准确的判断和理清其中的逻辑关系，所以我们在有限的认知下做抽象模型的设计时，必然会犯错！

虽然，在过去的几十年里面，我们总结了很多设计范式来指导我们做抽象的概念设计，例如面向对象设计，设计模式，函数式编程等等，不可否认，这些设计范式对我们做概念设计起到了很大的作用，也帮助我们诞生了非常多的优秀软件产品，但是，相比复杂变化的业务，这些设计远远不够，这些制约既取决于人类对范式的理解不同，也取决于范式所适用的场景是否足够通用。

因此，在有限认知的前提下，做抽象的概念设计就是一个非常具有挑战，也非常具有风险的事情。

### 软件的复杂度是必要属性

我们经常使用人类历史上伟大的作品与软件来相互比较，比如和某个复杂的建筑来互相类比，我们惊奇的发现，建筑的规模和复杂度是正比关系，也就是说随着建筑规模的扩大，复杂度是线性增长的。软件实体的扩展不仅仅是相同元素重复添加，而必须是不同元素实体的添加，实体之间通过不同的方式进行交互。大多数情况下，这些元素以非线性递增的方式交互，因此整个软件的复杂度以更大的非线性级数增长。

![software complexity](https://pic.ziyuan.wang/user/guest/2024/02/software_complexity_05144d43d683e.webp)

软件的复杂性由多个因素构成：
* **功能复杂性**：软件产品通常需要实现多个功能，这些功能可能相互关联、相互依赖，同时需要满足不同用户的需求。随着功能的增加，软件的复杂性也会增加。
* **技术复杂性**：软件产品的开发涉及多种技术和编程语言，例如前端开发、后端开发、数据库管理、底层服务等。不同技术的结合和使用，以及技术的不断更新和演进，都会增加软件的复杂性。
* **数据复杂性**：软件产品通常需要处理和管理大量的数据，包括用户数据、业务数据等。数据的结构、格式、存储和处理方式都会对软件的复杂性产生影响。
* **系统集成复杂性**：软件产品通常需要与其他系统进行集成，例如与第三方服务、硬件设备等进行交互。系统集成的复杂性包括接口设计、数据传输、安全性等方面。

当上面的复杂性因素结合软件本身的软性要求(高可用、高并发、可维护、可扩展)时，复杂度就急剧上升了！

因此，软件的复杂度是必要属性，不是次要因素。抽掉复杂度的软件实体描述常常也去掉了一些本质属性。数学和物理学在过去三个世纪取得了巨大的进步，数学家和物理学家们建立模型以简化复杂的现象，从模型中抽取出各种特性，并通过试验来验证这些特性。这些方法之所以可行——是因为模型中忽略的复杂度不是被研究现象的必要属性。当复杂度是本质特性时，这些方法就行不通了。

## 复杂多变的市场环境

市场环境之所以变化莫测，受到诸多因素影响，这些因素相互作用，共同推动市场环境的不断变化

1. **技术创新**：新的技术和科学的进步不断地推动市场环境的变化。例如，人工智能、物联网、区块链等新兴技术的出现和应用，改变了许多行业的商业模式和市场格局。
2. **竞争压力**：市场上的竞争对手的行动和策略也会促使市场环境的变化。竞争压力迫使企业不断寻求创新和改进，以保持竞争优势。
3. **消费者需求变化**：消费者的需求和偏好不断变化，推动市场环境的变化。随着社会、经济和文化的变化，消费者对产品和服务的需求也会发生变化，从而影响市场的供求关系。
4. **政策和法规变化**：政府的政策和法规变化也会对市场环境产生重要影响。政府的政策调整、法规变更或新的法律法规的出台，可能会改变行业的竞争格局和市场规则。
5. **经济和金融因素**：经济和金融因素如通货膨胀、利率变动、汇率波动等也会对市场环境产生影响。这些因素可能导致市场需求、消费能力和投资环境的变化，从而影响市场的供求关系和竞争格局。
6. **社会和环境变化**：社会和环境的变化也会对市场环境产生影响。例如，人们对可持续发展和环境保护的关注增加，推动了绿色和可持续产品的需求增长，从而改变了市场的格局。

![maketing changes](https://pic.ziyuan.wang/user/guest/2024/02/maketing_changes_dc96f4622f95c.jpg)

### 市场变化带了更多的复杂性

市场环境的变化可能导致软件产品需要适应新的需求和功能。这意味着开发团队需要不断地进行功能扩展、修改和优化，以满足市场的需求。这种不断的变化和迭代过程会增加软件的复杂性，因为开发团队需要处理新的功能、技术和需求变更。

同时这种变化也冲击到了我们早期的抽象设计，这些抽象的模型可能在市场变化中遭受严重挑战，很多时候我们不得不对我们的抽象模型进行重新设计，这往往意味着巨大的工程量和风险。

所以，我们看到越来越多的庞然大物行动缓慢，远远的跟不上市场脚本，逐渐流失的用户，不断增加攀升的成本，不断降低的利润，最终使得这个庞然大物慢慢走向灭亡。

## 人类组织中的固有弊端

任何成功的软件产品都不是一个人能完成的工作，自然，少不了人类组织的分工协作，但是人类组织的一些固有弊端成为了解决复杂软件的障碍，加速了软件产品的腐化！

1. **人类的组织需要大量沟通**：不像蚂蚁或者蜜蜂等形成的组织，人类的组织基本上都需要靠大量的沟通才能传递信息。诚然，昆虫的组织也需要传递信息，但是和人类相比，那太简单了。想象一下，如果你作为一个新人，加入到一个新的软件开发团队，如果没有新人培训或者向前辈请教，你几乎不可能开展工作！更可怕的地方在于，科学实验证明，通过沟通传递信息的效率大概为60%，这就意味着，如果一个特定的信息，经过5个人的传播，就几乎完全变样了。所以，如果一家公司的组织层级超过了5级，那基本上就意味着高层的重要信息，几乎是很难传播到普通员工了。
2. **部门壁垒**：为了更好的应对某块业务的增长，人类组织往往会进行分割以形成更小的团队(或者部门)去应对不同的业务，随着单个团队对该领域的熟悉度不断增加，信息孤岛由此产生，高高的部门墙进一步阻碍了组织的信息传递效率，进一步影响了软件模型的划分和架构的设计，使得架构设计受制于组织结构，谷仓效应由此产生。
3. **权力和政治斗争**：有人的地方就有江湖，有可能你不会正视这些权利斗争，但它确实存在，而且影响巨大。在这个世界上，不存在一个没有任何权利和政治斗争的组织，除非这个组织没有任何利益可以获得。个人或团体之间的权力争夺可能导致内部纷争、利益冲突和不公平的决策，这些斗争加固了部门壁垒，保护了信息孤岛，最终破坏了组织长期目标。

![orginaztion](https://pic.ziyuan.wang/user/guest/2024/02/organization_2b36a8cfeeb18.png)

## 总结

> ***史前史中，没有别的场景比巨兽在焦油坑中垂死挣扎的场面更令人震撼。上帝见证着恐龙、猛犸象、剑齿虎在焦油中挣扎。它们挣扎得越是猛烈，焦油纠缠得越紧，没有任何猛兽足够强壮或具有足够的技巧，能够挣脱束缚，它们最后都沉到了坑底。***
> 
>----《人月神话•焦油坑》

当人类在有限认知的情况下，对具有高度复杂性的软件进行抽象设计时，不仅仅要面对多变的市场环境，同时还要被人类组织固有弊端的制约，这是一件及其具有挑战的事情。面对这样的人狼，我们不得不深刻反思，是否能找到一颗杀死他们的银弹？

