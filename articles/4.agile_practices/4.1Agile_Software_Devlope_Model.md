# 敏捷软件研发模式

![agile.png](https://0.z.wiki/autoupload/20240713/z7Bp/1280X720/agile.png?type=ha)

在上个世纪八九十年代，软件开发遵循严格的线性开发模式，按部就班地分阶段进行，每个阶段都有明确的输入和输出。一个产品从设计之初就注定了其最终形态，经过数月甚至数年的研发，最终一次性上线供用户使用。

然而，这种研发模式存在致命问题：
1. 用户和需求不断变化，几年前设计的产品如今可能已过时，产品经理难以预料需求变化；
2. 基于估算的计划难以按时落实，阶段延期会影响后续阶段，产品发布日期一再推迟，发布风险严重后置；
3. 团队协作困难，产品设计阶段研发人员无事可做，等待产品进入研发阶段时，设计人员又开始休假；
4. 由于每个阶段划分非常明确，每个阶段之间的产出并不一定完全保持一致，知道最终交付时，才暴露问题；

![xiaolonglv.jpg](https://0.z.wiki/autoupload/20240713/zKRE/998X320/agile-xiaolonglv.jpg?type=ha)

为解决这些问题，2001年2月，Martin Fowler、Jim Highsmith 等17位著名软件开发专家齐聚美国犹他州雪鸟滑雪胜地，举行敏捷方法发起者和实践者聚会。在这次会议上，他们正式提出 Agile（敏捷开发）概念，并共同签署《敏捷宣言》。

敏捷软件研发模式倡导**以客户为中心，快速响应变化，通过迭代和增量的方式来快速交付高质量的产品和服务，它强调团队合作，快速反馈和不断改进，以便在较短的时间内满足客户需求。**

让我们以一个造车实例来说明瀑布开发模式与敏捷方法的区别：

客户需要一辆车。若采用瀑布模式交付，必须先设计好车辆的全部功能和外观，然后从轮胎开始，逐步按计划完成。这样，客户可能要等待数年才能使用到这辆车。而采用敏捷方法，首先要思考客户为何需要一辆车——是为了更快地到达目的地吗？为简化问题，先设计一个滑板供客户使用。客户体验后发现滑板速度不够，于是提供自行车，随后是摩托车，最终设计成小轿车。若仍觉速度不足，怎么办？给客户一架飞机？在此过程中，客户能在短时间内体验到产品，并向设计者提供使用感受的反馈。设计者则根据这些反馈不断优化解决方案，极大地降低了项目失败的风险，更好地满足了客户需求。

![Agile-vs-Waterfall.png](https://img.picui.cn/free/2024/06/30/6680f5c17a7fd.png)

## 敏捷宣言

上面我们说到了[《敏捷宣言》](https://agilemanifesto.org/iso/zhchs/manifesto.html),这是敏捷软件研发的革命性纲领，涵盖了敏捷的核心理念，在这里我们有必要去深入理解和体会。

![agile_manifesto.jpg](https://img.picui.cn/free/2024/07/07/668a001b2ec1e.jpg)

本质上，敏捷宣言就四句话加上下面的一行小字，下面我们来逐个理解这几句话：

#### 个体与互动高于流程和工具

在大型组织中，众多流程和工具用于把控项目进度，同时存在许多擅长流程管理和工具使用的人员。这些人依赖制度和流程确保项目沿着正确轨道前进。尽管如此，我们并不否认流程、工具和人员的价值。然而，它们无法替代有能力的个体和高效的互动。个体的技能和相互间的沟通是解决问题、深入思考业务和传递隐性知识的关键。

因此，敏捷团队应注重：**激发个体意愿和能力，重视团队内部及团队间的沟通与合作，构建自组织团队，定期反思并持续改进**。

#### 工作的软件高于详尽的文档

在软件研发领域，关于文档价值的争论从未停歇。支持者的观点是，文档记录了项目背景、业务逻辑、软件架构和变更记录，对知识传递至关重要。反对者则认为，详尽的文档总是滞后于实际工作，不应将精力过多投入文档编写，而应关注实际可用的软件，并根据市场反馈迅速调整，而非死板遵循全面但过时的文档规定！

要解开这一争论的谜团，关键是从价值角度出发，重新审视软件研发的真谛。软件研发的价值在于交付具有实际使用价值的软件，满足客户需求并带来满意度。这意味着已集成、测试且准备好发布的软件才是衡量项目进度和发布决策的关键指标。文档作为辅助工具，旨在支持实际工作，而非作为严格遵循的契约。同时，文档不等同于知识传递，它能传递的主要是显性知识。

因此，敏捷团队应从简化设计开始，迅速验证市场反馈，并通过迭代增量的方式逐步完善产品。随着时间的推移，团队应不断演进产品架构，追求卓越技术，最终打造出令用户满意的产品！

#### 客户合作优于合同谈判

合同谈判固然重要，但敏捷团队应超越谈判，寻求提升与客户合作的层次，建立基于合作的关系，而非仅依赖契约或手续来推进事务。作为软件开发方，我们与客户并非对立或零和博弈，而应构建双赢关系。只有为客户创造有价值的产品，团队的付出才有意义。因此，在项目过程中，我们应注重客户合作，而非仅仅依赖初步的合同谈判。

#### 响应变化优于遵循计划

这句话常引起误解，似乎意味着市场和客户需求不断变化，我们就应放弃制定计划，随时准备迎合市场变化。然而，敏捷团队的理念是计划仍然必要，但计划必须灵活适应变化，并持续进行调整，避免制定过于详尽或长期的计划。过分强调前期详尽计划可能导致大量返工。同时，我们需要具备足够的规划能力，以评估业务需求和长期影响。这是一种平衡的艺术。

敏捷研发模式通常采用迭代周期，每个迭代都有明确的迭代计划，要求具体且可执行，至少在当前迭代期间如此。此外，会有一个大致的可行产品功能和发布计划，为发布最小可行性产品提供方向指引。最后，可能还有一个产品理念或愿景，作为激发团队成员、引领产品走向理想的灯塔。

最后一句话：尽管右侧各项具有其价值，但我们更加珍视左侧各项的价值。工具、流程、文档、合同和计划对项目的成功至关重要，然而，相比之下，个体互动、可工作的软件、客户合作以及及时响应需求变化的价值更为突出。

## 迭代与增量

与传统瀑布开发模式相比，**敏捷开发的核心在于迭代开发（iterative development）。**

那么，何谓“迭代开发”？“迭代”一词源于英文“iterative”，字面意思为“重复”。迭代开发实际上是一种“重复开发”的方式。

在大型软件项目中，传统开发方式采用一个长周期（如一年）进行一次性大开发；而迭代开发则不同，它将整个开发过程划分为多个小周期，使得原本的一次性大开发变成了多次小规模开发。每次小开发都遵循相同的流程，因此整个过程看似在重复执行相同步骤。

![agile-vs-waterfull2.png](https://img.picui.cn/free/2024/07/07/668a5737b48c4.png)

迭代开发要求将整个开发过程拆分为多个迭代周期，每个迭代周期都采用“增量开发”（incremental development）的方式进行。**所谓“增量开发”，即指每个软件版本都新增一个用户可感知的完整功能。换言之，根据新增功能来划分迭代周期。**

**只有将增量开发与迭代开发相结合，才能真正实现敏捷开发。**

## 敏捷研发流程

![work-process.jpg](https://0.z.wiki/autoupload/20240713/Npv2/2570X1030/agile-work-process.jpg?type=ha)

将敏捷理念落地的关键是其研发流程，整个研发围绕迭代进行，我们可以简单的将研发流程划分为下面三个阶段：

#### 迭代前

在迭代开始之前，通常需要进行以下活动：

* **梳理产品需求：** 迭代前，产品经理(PM)需结合市场需求、产品愿景和业务模型，设计产品功能列表。完成功能设计后，根据功能的重要性确定优先级。
* **用户故事拆分：** 明确产品功能后，PM/PO 将从用户角度出发，对产品功能进行拆分。详细拆分方法可参考[《用户故事地图》](https://jade-hub.com/#/articles/3.3)。
* **最小化可行性产品设计(MVP)：** 有用户故事地图后，结合产品愿景挑选出最小化的可工作软件功能，旨在最短时间内、最少资源下构建满足目标市场需求的原型。
* **迭代计划排期：** 通常以周（1-4 周）为单位安排迭代，每个迭代需交付可工作软件。在迭代开始前，召开迭代计划会议，明确各需求的优先级，讲解需求细节，评估任务工作量，确定冲刺目标（用户故事卡数量），并借助迭代看板进行管理。

#### 迭代中

进入迭代阶段，团队成员每日执行以下活动：

* **每日站会：** 团队通过每日站会沟通进度、同步信息，一般 15 分钟内结束。以看板为工具，成员更新状态和当日计划，使用燃尽图和累计流展示整体进度，实时监控风险。
* **故事卡 Kickoff：** 开发人员从看板领取任务时，需通过 Kickoff 方式进行。此时，PO、研发和测试人员共同参与，就故事卡的业务范围、实现方法和测试内容达成一致，然后正式实施。
* **桌面检查(Desk Check)：** 开发人员实现故事卡后，为确保实现与业务需求一致，应尽早展示实现方式。通过桌面检查，开发人员在本地环境向 PO/测试人员演示功能和问题，收集反馈。

#### 迭代后

当前迭代的所有故事卡完成并经过充分测试后，表示迭代任务结束，增量功能已开发。但仍有活动确保迭代后续任务顺利进行：

* **迭代评审会(ShowCase)：** 冲刺结束时，团队进行非正式会议，观看增量演示或检查增量。开发团队向利益相关者和团队成员展示“已完成”状态的待办事项，征求反馈意见。
* **迭代回顾会(Retro)：** 回顾会上，敏捷团队评估过去迭代的表现，包括人员、关系、流程和工具等，思考如何在下一次迭代中表现得更好、更高效，以及如何更愉快地与团队合作。

## 敏捷的收益

在对比了瀑布和敏捷研发模式的差异并理解了敏捷价值观之后，我们不禁要问：敏捷究竟为我们带来了哪些实际收益？笔者认为主要有以下两点：

#### 1. 早期交付，大幅降低成本

敏捷开发的首要优势在于其能够通过增量迭代的方式实现早期交付，从而大幅度降低开发成本。

通过避免庞大且全面的设计，敏捷开发减少了无效成本的投入，并迅速将产品推向市场以获取市场反馈。这使得团队能够集中精力处理最重要的事务，有效降低内耗。

对于盈利性产品而言，尽早推向市场并实现盈利能够极大地缓解公司的资金压力，同时提升团队的信心和士气。

#### 2. 响应变化，降低风险

敏捷开发的另一大好处在于能够及时了解市场需求，从而降低产品不适用的风险。

敏捷开发允许团队不断试错，识别对业务至关重要的功能，并通过迭代调整软件方向。相较于传统开发方式，这种方法大大提高了产品成功的概率。在不确定的市场环境或对领域不甚了解的情况下，敏捷开发几乎成为了唯一可行的应对策略。